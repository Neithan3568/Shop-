{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrea\\\\Downloads\\\\Proyecto-Dulceria-main\\\\Proyecto-Dulceria-main\\\\src\\\\paginas\\\\auth\\\\registrarProducto.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { mostrarImagenSeleccionada } from '../../js/imagenRegistroE';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegistrarP = ({\n  userName\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const nameE = localStorage.getItem('nombreEmpresa');\n  const imgE = localStorage.getItem('logoEmpresa');\n  const handleLogout = () => {\n    localStorage.removeItem('nombreEmpresa');\n    localStorage.removeItem('logoEmpresa');\n    navigate('/');\n  };\n  const [producto, setProducto] = useState({\n    nombre: '',\n    tipoProducto: '',\n    imagenProducto: '',\n    descripcion: '',\n    precio: '',\n    cantidadContenido: '',\n    tipoContenido: '',\n    nombreEmpresa: nameE\n  });\n  const {\n    nombre,\n    tipoProducto,\n    imagenProducto,\n    descripcion,\n    precio,\n    cantidadContenido,\n    tipoContenido,\n    nombreEmpresa\n  } = producto;\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const registerProducto = async () => {\n    try {\n      const response = await axios.post('http://localhost:8888/api/v1/devcamps/productos/registerP', producto, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setSuccessMessage('Producto registrado con éxito');\n      setError('');\n    } catch (error) {\n      console.error('Error en el registro:', error);\n      if (error.response) {\n        console.log('Respuesta del servidor:', error.response);\n        if (error.response.status === 500 && error.response.data && error.response.data.message) {\n          setError('Error: ' + error.response.data.message);\n        } else {\n          setError('Error en el registro');\n        }\n      } else {\n        setError('Error en el: ' + error.message);\n      }\n    }\n  };\n  const guardarImagen = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('imagenProducto', producto.imagenProducto);\n      const res = await axios.post(\"http://localhost:8888/api/v1/devcamps/productos/guardar/single\", formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n    } catch (error) {\n      console.error('Error en el registro:', error);\n      if (error.response) {\n        console.log('Respuesta del servidor:', error.response);\n        if (error.response.status === 500 && error.response.data && error.response.data.message) {\n          setError('Error: ' + error.response.data.message);\n        } else {\n          setError('Error en el registro');\n        }\n      } else {\n        setError('Error en el: ' + error.message);\n      }\n    }\n  };\n  const onChange = e => {\n    setProducto({\n      ...producto,\n      [e.target.name]: e.target.value\n    });\n    mostrarImagenSeleccionada();\n  };\n  const onSubmit = e => {\n    e.preventDefault();\n    registerProducto();\n    guardarImagen();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interfazVendedor\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formProductos\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register_box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tituloRE\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Registrar Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          method: \"post\",\n          onSubmit: onSubmit,\n          encType: \"multipart/form-data\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"groupP\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"imgEspacio\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"imagenSeleccionada\",\n                className: \"imgP\",\n                src: \"#\",\n                width: 258\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  value: imagenProducto,\n                  name: \"imagenProducto\",\n                  className: \"form-control\",\n                  id: \"archivoInput\",\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"camposP\",\n              children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"botonesP\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  value: 'Registrar'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n_s(RegistrarP, \"UXMvf8bC1/z1WsRbctRvKXBE8wA=\", false, function () {\n  return [useNavigate];\n});\n_c = RegistrarP;\nexport default RegistrarP;\nvar _c;\n$RefreshReg$(_c, \"RegistrarP\");","map":{"version":3,"names":["React","useState","Link","useNavigate","mostrarImagenSeleccionada","axios","jsxDEV","_jsxDEV","RegistrarP","userName","_s","navigate","nameE","localStorage","getItem","imgE","handleLogout","removeItem","producto","setProducto","nombre","tipoProducto","imagenProducto","descripcion","precio","cantidadContenido","tipoContenido","nombreEmpresa","error","setError","successMessage","setSuccessMessage","registerProducto","response","post","headers","console","log","status","data","message","guardarImagen","formData","FormData","append","res","onChange","e","target","name","value","onSubmit","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","method","encType","id","src","width","type","_c","$RefreshReg$"],"sources":["C:/Users/Andrea/Downloads/Proyecto-Dulceria-main/Proyecto-Dulceria-main/src/paginas/auth/registrarProducto.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { mostrarImagenSeleccionada } from '../../js/imagenRegistroE';\r\nimport axios from 'axios';\r\n\r\nconst RegistrarP = ({ userName }) => {\r\n    const navigate = useNavigate();\r\n    const nameE = localStorage.getItem('nombreEmpresa');\r\n    const imgE = localStorage.getItem('logoEmpresa');\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('nombreEmpresa');\r\n        localStorage.removeItem('logoEmpresa');\r\n        navigate('/');\r\n    };\r\n\r\n    const [producto, setProducto] = useState({\r\n        nombre: '',\r\n        tipoProducto: '',\r\n        imagenProducto: '',\r\n        descripcion: '',\r\n        precio: '',\r\n        cantidadContenido: '',\r\n        tipoContenido: '',\r\n        nombreEmpresa: nameE\r\n    });\r\n\r\n    const { nombre, tipoProducto, imagenProducto, descripcion, precio, cantidadContenido, tipoContenido, nombreEmpresa } = producto;\r\n    const [error, setError] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n\r\n    const registerProducto = async () => {\r\n        try {\r\n            const response = await axios.post('http://localhost:8888/api/v1/devcamps/productos/registerP', producto, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n            setSuccessMessage('Producto registrado con éxito');\r\n            setError('');\r\n        } catch (error) {\r\n            console.error('Error en el registro:', error);\r\n\r\n            if (error.response) {\r\n                console.log('Respuesta del servidor:', error.response);\r\n                if (error.response.status === 500 && error.response.data && error.response.data.message) {\r\n                    setError('Error: ' + error.response.data.message);\r\n                } else {\r\n                    setError('Error en el registro');\r\n                }\r\n            } else {\r\n                setError('Error en el: ' + error.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    const guardarImagen = async () => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('imagenProducto', producto.imagenProducto);\r\n\r\n            const res = await axios.post(\"http://localhost:8888/api/v1/devcamps/productos/guardar/single\", formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n        } catch (error) {\r\n            console.error('Error en el registro:', error);\r\n\r\n            if (error.response) {\r\n                console.log('Respuesta del servidor:', error.response);\r\n                if (error.response.status === 500 && error.response.data && error.response.data.message) {\r\n                    setError('Error: ' + error.response.data.message);\r\n                } else {\r\n                    setError('Error en el registro');\r\n                }\r\n            } else {\r\n                setError('Error en el: ' + error.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setProducto({\r\n            ...producto,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        mostrarImagenSeleccionada();\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        registerProducto();\r\n        guardarImagen();\r\n    };\r\n\r\n    return (\r\n        <div className='interfazVendedor'>\r\n            {/* Resto del código sigue igual */}\r\n            <div className='formProductos'>\r\n                <div className='register_box'>\r\n                    <div className='tituloRE'>\r\n                        <h4>Registrar Productos</h4>\r\n                    </div>\r\n                    <form method='post' onSubmit={onSubmit} encType=\"multipart/form-data\">\r\n                        <div className='groupP'>\r\n                            <div className='imgEspacio'>\r\n                                <img id=\"imagenSeleccionada\" className='imgP' src='#' width={258}></img>\r\n                                <div className=\"input-group mt-3\">\r\n                                    <input type=\"file\" value={imagenProducto} name='imagenProducto' className='form-control' id=\"archivoInput\" onChange={onChange}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className='camposP'>\r\n                                {/* Resto del código sigue igual */}\r\n                                <hr></hr>\r\n                                <div className='botonesP'>\r\n                                    <input type='submit' className='btn btn-primary' value={'Registrar'}></input>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegistrarP;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}